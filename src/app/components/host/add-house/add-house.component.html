<div class="container">
  <div *ngIf="isSuccess" class="alert alert-success" role="alert">
    Đã thêm nhà thành công!
  </div>
  <fieldset>
    <legend>Add new house</legend>
    <form [formGroup]="houseForm" (ngSubmit)="onSubmit()" style="border: 4px solid #DF4B3B">


      <div class="form-group">
        <label>House Name</label>
        <input type="text"
               formControlName="houseName"
               class="form-control"
               [ngClass]="{ 'is-invalid': submitted && f.houseName.errors }">
        <div *ngIf="submitted && f.houseName.errors" class="invalid-feedback">
          <div *ngIf="f.houseName.errors.required">Tên nhà không được để trống</div>
        </div>
      </div>

      <div *ngIf="!category" class="form-group">
        <label>
          Category
        </label>
        <select
          type="text" id="category"
          name="category"
          formControlName="category"
          [ngClass]="{ 'is-invalid': submitted && f.category.errors }" class="form-control">
          <option *ngFor="let category of categoryList" [value]="category.id">
            {{category.name}}
          </option>
        </select>
        <div *ngIf="submitted && f.category.errors" class="invalid-feedback">
          <div *ngIf="f.category.errors.required">Category not empty</div>
        </div>
      </div>

      <div class="form-group">
        <label>Picture: </label>
        <input type="file" class="form-control" placeholder="picture"
               formControlName="picture"
               (change)="uploadFile($event)" accept=".png"
               multiple required
        >
      </div>

      <div class="form-group">
        <label>Address: </label>
        <input type="text"
               class="form-control"
               formControlName="address"
               [ngClass]="{ 'is-invalid': submitted && f.address.errors }"/>
        <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
          <div *ngIf="f.address.errors.required">Địa chỉ không hợp lệ</div>
        </div>
      </div>
      <div class="form-group">
        <label>Bedroom Number: </label>
        <input [ngClass]="{ 'is-invalid': submitted && f.bedroomNumber.errors }"
               class="form-control"
               formControlName="bedroomNumber"
               min="0"
               type="number"/>
        <div *ngIf="submitted && f.bedroomNumber.errors" class="invalid-feedback">
          <div *ngIf="f.bedroomNumber.errors.required">Số phòng không hợp lệ</div>
          <div *ngIf="f.bedroomNumber.errors.min">Số phòng phải lớn hơn 0</div>
        </div>
      </div>
      <div class="form-group">
        <label>Bathroom Number: </label>
        <input min="0"
               class="form-control"
               formControlName="bathroomNumber"
               type="number"
               [ngClass]="{ 'is-invalid': submitted && f.address.errors }">
        <div *ngIf="submitted && f.bathroomNumber.errors" class="invalid-feedback">
          <div *ngIf="f.bathroomNumber.errors.required">Số phòng không hợp lệ</div>
          <div *ngIf="f.bathroomNumber.errors.min">Số phòng phải lớn hơn 0</div>
        </div>
      </div>
      <div class="form-group">
        <label>Description: </label>
        <input type="text"
               class="form-control"
               formControlName="description">
      </div>
      <div class="form-group">
        <label>Price: </label>
        <input min="0"
               class="form-control"
               formControlName="price"
               type="number"
               [ngClass]="{ 'is-invalid': submitted && f.address.errors }">
        <div *ngIf="submitted && f.price.errors" class="invalid-feedback">
          <div *ngIf="f.price.errors.required">Giá không hợp lệ</div>
          <div *ngIf="f.price.errors.min">Giá phải lớn hơn 0</div>
        </div>
      </div>
      <div class="form-group">
        <button class="btn btn-primary">Add</button>
        <button class="btn btn-primary" routerLink="/home">Back Home</button>
      </div>
    </form>
  </fieldset>
</div>
