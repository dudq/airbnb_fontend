<div class="container">
  <div *ngIf="isSuccess" class="alert alert-success" role="alert">
    Add new house successfully
  </div>
  <fieldset>
    <legend>Add new house</legend>
    <form (ngSubmit)="onSubmit()" [formGroup]="houseForm">
      <div class="form-group">
        <label>House Name</label>
        <input [ngClass]="{ 'is-invalid': submitted && f.houseName.errors }"
               class="form-control"
               formControlName="houseName"
               type="text">
        <div *ngIf="submitted && f.houseName.errors" class="invalid-feedback">
          <div *ngIf="f.houseName.errors.required">House name not empty</div>
        </div>
      </div>

      <div *ngIf="category" class="form-group">
        <label>
          Category
        </label>
        <select
          [ngClass]="{ 'is-invalid': submitted && f.category.errors }" class="form-control"
          formControlName="category"
          id="category"
          name="category" type="text">
          <option *ngFor="let category of categoryList" [value]="category.id">
            {{category.name}}
          </option>
        </select>
        <div *ngIf="submitted && f.category.errors" class="invalid-feedback">
          <div *ngIf="f.category.errors.required">Category not empty</div>
        </div>
      </div>

      <div class="form-group">
        <label>Picture: </label>
        <input (change)="uploadFile($event)" accept=".png, .jpg" class="form-control"
               formControlName="picture"
               multiple placeholder="picture"
               type="file">
      </div>

      <div class="form-group">
        <div *ngIf="arrayPicture" class="image-preview">
          <div *ngFor="let preview of arrayPicture" class="float-left">
            <img [src]="preview" height="100"/>
          </div>
          <div></div>
        </div>
      </div>

      <div class="form-group" style="clear: left">
        <label>Address: </label>
        <input [ngClass]="{ 'is-invalid': submitted && f.address.errors }"
               class="form-control"
               formControlName="address"
               type="text"/>
        <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
          <div *ngIf="f.address.errors.required">Address is not empty</div>
        </div>
      </div>
      <div class="form-group">
        <label>Bedroom Number: </label>
        <input [ngClass]="{ 'is-invalid': submitted && f.bedroomNumber.errors }"
               class="form-control"
               formControlName="bedroomNumber"
               min="0"
               type="number"/>
        <div *ngIf="submitted && f.bedroomNumber.errors" class="invalid-feedback">
          <div *ngIf="f.bedroomNumber.errors.required">Bedroom Number is not empty</div>
          <div *ngIf="f.bedroomNumber.errors.min">Bedroom Number must greater than 0</div>
        </div>
      </div>
      <div class="form-group">
        <label>Bathroom Number: </label>
        <input [ngClass]="{ 'is-invalid': submitted && f.address.errors }"
               class="form-control"
               formControlName="bathroomNumber"
               min="0"
               type="number">
        <div *ngIf="submitted && f.bathroomNumber.errors" class="invalid-feedback">
          <div *ngIf="f.bathroomNumber.errors.required">Bathroom Number is not empty</div>
          <div *ngIf="f.bathroomNumber.errors.min">Bathroom Number must greater than 0</div>
        </div>
      </div>
      <div class="form-group">
        <label>Description: </label>
        <input class="form-control"
               formControlName="description"
               type="text">
      </div>
      <div class="form-group">
        <label>Area Of Room (m2): </label>
        <input [ngClass]="{ 'is-invalid': submitted && f.area.errors}"
               class="form-control"
               formControlName="area"
               min="0"
               type="number">
        <div *ngIf="submitted && f.area.errors" class="invalid-feedback">
          <div *ngIf="f.area.errors.required">Area is not empty</div>
          <div *ngIf="f.area.errors.min">Area must greater than 0</div>
        </div>
      </div>
      <div class="form-group">
        <label>Price (USD/day): </label>
        <input [ngClass]="{ 'is-invalid': submitted && f.address.errors }"
               class="form-control"
               formControlName="price"
               min="0"
               type="number">
        <div *ngIf="submitted && f.price.errors" class="invalid-feedback">
          <div *ngIf="f.price.errors.required">Price is not empty</div>
          <div *ngIf="f.price.errors.min">Price must greater than 0</div>
        </div>
      </div>
      <div class="form-group">
        <button class="btn btn-primary">Add</button>
        <button class="btn btn-primary" routerLink="/home">Back Home</button>
      </div>
    </form>
  </fieldset>
</div>
